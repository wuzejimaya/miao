<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>画图</title>
  <style>
    canvas {
      border: 2px solid #f0f;
      display: block;
      margin: auto;
    }
  </style>
</head>
<body>
  <canvas width="400" height="300"></canvas>
</body>
<script>
  var canvas = document.querySelector('canvas')
  canvas.style.imageRendering = 'pixelated'
  var ctx = canvas.getContext('2d')

  function dot(x, y, color = 'black') {
    x = x | 0
    y = y | 0
    ctx.fillStyle = color
    ctx.fillRect(x, y, 1, 1)
  }

  function line(x1, y1, x2, y2) {
    ctx.strokeStyle = 'black'
    ctx.moveTo(x1, y1)
    ctx.lineTo(x2, y2)
    ctx.stroke()
  }
  /**
   * YOUR TASK
画图的题：
画一条实线
画一条一个实点一个空点的虚线
画一条两个实点两个空点的虚线
画一条三个实点两个空点的虚线
画一条45度的斜线
画一条30度的斜线（选做）
在四个角画分别画一条45度的斜线以让画面看起来像一个相框
画一条跨越画布左上角和右下角的对角线
画一个空心矩形
画一个实心矩形
画一个rgb色彩空间的某一面
画一个空心的圆
画一个实心的圆
画一个大小合适的sin(x)的图像
   */
</script>
<script>
  // 画一条实线
  var x = 0
  var y = 0
  for (var i = 0; i < 100; i++) {
    dot(i + 40, y + 30, 'black')
  }
  //画一条一个实点一个空点的虚线
  for (var i = 0; i < 100; i += 2) {
    dot(i + 40, y + 40, 'black')
  }
  //画一条两个实点两个空点的虚线
  for (var i = 0; i < 100; i++) {
    if (i % 4 < 2) {
      dot(i + 40, y + 50, 'black')
    }
  }
  //画一条三个实点两个空点的虚线
  for (var i = 0; i < 100; i++) {
    if (i % 5 < 3) {
      dot(i + 40, y + 60, 'black')
    }
  }
  //画一条45度的斜线
  for (var i = 0; i < 100; i++) {
    dot(i + 40, y + 70, 'black')
    y++
  }
  //画一条30度的斜线（选做）（封闭）
  var y = 0
  for (var i = 0; i < 50; i++) {
    dot(i + 40, y + 100, 'black')
    // y += 1 / Math.sqrt(3) //浮点运算比较慢
    if (3 * (i * i + y * y) < 4 * (i * i)) {
      y++
    }
  }
  //在四个角画分别画一条45度的斜线以让画面看起来像一个相框
  var x = 20
  var y = 15
  for(var i = 0; i < 360; i++) {
    dot(x, y, 'black')
    x++
  }
  for(var i = 0; i < 270; i++) {
    dot(x, y, 'black')
    y++
  }
  for(var i = 0; i < 360; i++) {
    dot(x, y, 'black')
    x--
  }
  for(var i = 0; i < 270; i++) {
    dot(x, y, 'black')
    y--
  }
  x = 50
  for(var i = 0; i < 30; i++) {
    dot(x, y, 'black')
    x--
    y++
  }
  x = 380
  for(var i = 0; i < 30; i++) {
    dot(x, y, 'black')
    x--
    y--
  }
  y = 285
  for(var i = 0; i < 30; i++) {
    dot(x, y, 'black')
    x++
    y--
  }
  x = 20
  for(var i = 0; i < 30; i++) {
    dot(x, y, 'black')
    x++
    y++
  }
  //画一条跨越画布左上角和右下角的对角线
  x = 0
  y = 0
  for(var i = 0; i < 400; i++) {
    dot(i, y, 'black')
    y += 3 / 4
  }
  //画一个空心矩形
  for (var i = 0; i < 80; i++) {
    for (var j = 0; j < 60; j++) {
      if (i == 0 || i == 79 || j == 0 || j == 59)
        dot(i + 30, j + 141, 'black')
    }
  }
  //画一个实心矩形
  for (var i = 0; i < 80; i++) {
    for (var j = 0; j < 60; j++) {
      dot(i + 30, j + 204, 'red')
    }
  }
  // 画一个rgb色彩空间的某一面
  var x = 140
  var y = 180
  var color
  for (var i = 255; i >= 0; i -= 3) {
    for (var j = 0; j < 256; j += 3) {
      if (i < 16 && j > 16) {
        color = '#' + 'ff' + j.toString(16) + '0' + i.toString(16)
      } else if (j < 16 && i > 16) {
        color = '#' + 'ff' + '0' + j.toString(16) + i.toString(16)
      } else if (i < 16 && j < 16) {
        color = '#' + 'ff' + '0' + j.toString(16) + '0' + i.toString(16)
      } else {
        color = '#' + 'ff' + j.toString(16) + i.toString(16)
      }
      dot(x, y, color)
      x++
    }
    debugger
    x = 140
    y++
  }
  //画一个空心的
  var r = 50
  var y = r
  for (var i = 0; i <= r / Math.sqrt(2); i++) {
    y = Math.sqrt(r * r - i * i)
    dot(i + 200, y + 70, 'red')
    dot(y + 200, i + 70, 'red')
    dot(- i + 200, - y + 70, 'red')
    dot(- y + 200, - i + 70, 'red')
    dot(i + 200, - y + 70, 'red')
    dot(- y + 200, i + 70, 'red')
    dot(- i + 200, y + 70, 'red')
    dot(y + 200, - i + 70, 'red')
  }
  //画一个实心的圆
  var r = 50
  var y = r
  for (var i = 0; i <= r / Math.sqrt(2); i++) {
    y = Math.sqrt(r * r - i * i)
    for (var j = 0; j <= y; j++) {
      dot(i + 310, j + 70, 'red')
      dot(j + 310, i + 70, 'red')
      dot(- i + 310, - j + 70, 'red')
      dot(- j + 310, - i + 70, 'red')
      dot(i + 310, - j + 70, 'red')
      dot(- j + 310, i + 70, 'red')
      dot(- i + 310, j + 70, 'red')
      dot(j + 310, - i + 70, 'red')
    }
  }

  //画一个大小合适的sin(x)的图像
  var x0 = 220
  var y0 = 160
 for (var i = 0; i < 40 * Math.PI; i += Math.PI / 360) {
   x = x0 + i
   y = y0 - 20 * Math.sin(i / 10)
   dot(x, y, 'red')
 }
</script>
</html>
